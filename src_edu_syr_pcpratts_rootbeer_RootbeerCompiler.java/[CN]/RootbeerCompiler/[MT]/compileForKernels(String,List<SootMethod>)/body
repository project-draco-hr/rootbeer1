{
  if (kernel_methods.isEmpty()) {
    System.out.println("There are no kernel classes. Please implement the following interface to use rootbeer:");
    System.out.println("edu.syr.pcpratts.rootbeer.runtime.Kernel");
    System.exit(0);
  }
  System.out.println("applying optimizations...");
  RootbeerClassLoader.v().applyOptimizations();
  Transform2 transform2=new Transform2();
  for (  SootMethod kernel_method : kernel_methods) {
    RootbeerClassLoader.v().loadDfsInfo(kernel_method);
    SootClass soot_class=kernel_method.getDeclaringClass();
    transform2.run(soot_class.getName());
  }
  System.out.println("writing classes out...");
  List<SootClass> remapped_classes=Scene.v().getRemappedClasses();
  for (  SootClass cls : remapped_classes) {
    loadAllMethods(cls.getName());
    writeClassFile(cls.getName());
    writeJimpleFile(cls.getName());
  }
  List<String> app_classes=RootbeerClassLoader.v().getAllAppClasses();
  for (  String app_class : app_classes) {
    loadAllMethods(app_class);
    writeClassFile(app_class);
    writeJimpleFile(app_class);
  }
  List<SootClass> added_classes=Scene.v().getGeneratedClasses();
  for (  SootClass cls : added_classes) {
    loadAllMethods(cls.getName());
    writeClassFile(cls.getName());
    writeJimpleFile(cls.getName());
  }
  makeOutJar();
  pack(outname);
}
