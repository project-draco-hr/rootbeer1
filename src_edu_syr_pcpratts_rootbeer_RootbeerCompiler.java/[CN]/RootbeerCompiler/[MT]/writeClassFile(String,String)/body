{
  if (cls.equals("java.lang.Object"))   return;
  FileOutputStream fos=null;
  PrintWriter writer=null;
  SootClass c=Scene.v().getSootClass(cls);
  try {
    fos=new FileOutputStream(filename);
    OutputStream out1=new JasminOutputStream(fos);
    writer=new PrintWriter(new OutputStreamWriter(out1));
    new soot.jimple.JasminClass(c).print(writer);
  }
 catch (  Exception ex) {
    System.out.println("Error writing .class: " + cls);
    if (cls.equals("java.lang.Object") == false) {
      ex.printStackTrace();
      PrintWriter writer2=new PrintWriter(System.out);
      try {
        List<SootMethod> methods=c.getMethods();
        for (        SootMethod method : methods) {
          if (method.hasActiveBody()) {
            System.out.println(method.getSignature());
            Body body=method.getActiveBody();
            Printer.v().printTo(body,writer2);
            writer2.flush();
            System.out.flush();
          }
        }
      }
 catch (      Exception ex2) {
        ex2.printStackTrace();
      }
    }
  }
 finally {
    writer.flush();
    writer.close();
    try {
      fos.close();
    }
 catch (    Exception ex) {
    }
  }
}
