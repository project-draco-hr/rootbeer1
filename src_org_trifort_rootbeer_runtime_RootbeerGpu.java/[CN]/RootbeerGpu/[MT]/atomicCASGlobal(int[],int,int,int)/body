{
synchronized (array) {
    int old=array[index];
    if (old == compare) {
      array[index]=value;
    }
    return old;
  }
}
