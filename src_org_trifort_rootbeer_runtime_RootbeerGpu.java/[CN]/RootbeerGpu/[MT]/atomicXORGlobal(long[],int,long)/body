{
synchronized (array) {
    long old=array[index];
    array[index]=old ^ value;
    return old;
  }
}
