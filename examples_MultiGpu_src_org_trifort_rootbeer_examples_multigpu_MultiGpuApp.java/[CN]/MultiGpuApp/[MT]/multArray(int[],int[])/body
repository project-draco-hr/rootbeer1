{
  Kernel work0=new ArrayMult(array1);
  Kernel work1=new ArrayMult(array2);
  Rootbeer rootbeer=new Rootbeer();
  List<GpuDevice> devices=rootbeer.getDevices();
  if (devices.size() >= 2) {
    System.out.println("device count: " + devices.size());
    for (    GpuDevice device : devices) {
      System.out.println("  name: " + device.getDeviceName());
    }
    Stopwatch watch=new Stopwatch();
    watch.start();
    GpuDevice device0=devices.get(0);
    GpuDevice device1=devices.get(1);
    Context context0=device0.createContext(4096);
    Context context1=device1.createContext(4096);
    ThreadConfig config0=new ThreadConfig(1,array1.length,array1.length);
    ThreadConfig config1=new ThreadConfig(1,array2.length,array2.length);
    try {
      rootbeer.run(work0,config0,context0);
    }
 catch (    Exception ex) {
      ex.printStackTrace();
    }
    try {
      rootbeer.run(work1,config1,context1);
    }
 catch (    Exception ex) {
      ex.printStackTrace();
    }
    watch.stop();
    System.out.println("time: " + watch.elapsedTimeMillis());
  }
 else {
    System.out.println("This example needs two gpu devices");
    System.out.println("device count: " + devices.size());
    for (    GpuDevice device : devices) {
      System.out.println("  name: " + device.getDeviceName());
    }
  }
}
