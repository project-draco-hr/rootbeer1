{
  m_runStopwatch.start();
  RootbeerGpu.setIsOnGpu(true);
  m_Partial=new PartiallyCompletedParallelJob(jobs);
  boolean any_jobs=writeBlocks(jobs);
  if (any_jobs == false) {
    return m_Partial;
  }
  String filename=m_32bit ? m_FirstJob.getCubin32() : m_FirstJob.getCubin64();
  if (filename.endsWith(".error")) {
    return m_Partial;
  }
  if (thread_config == null) {
    calculateShape();
  }
 else {
    m_BlockShape=thread_config.getBlockShapeX();
    m_GridShape=thread_config.getGridShapeX();
    m_NumThreads=thread_config.getNumThreads();
  }
  compileCode();
  Object gpu_thrown=null;
  try {
    runOnGpu();
    readBlocks();
    unload();
  }
 catch (  Throwable ex) {
    gpu_thrown=ex;
  }
  RootbeerGpu.setIsOnGpu(false);
  m_runStopwatch.stop();
  m_overallTime=m_runStopwatch.elapsedTimeMillis();
  StatsRow stats_row=new StatsRow(m_serializationTime,m_executionTime,m_deserializationTime,m_overallTime,m_GridShape,m_BlockShape);
  rootbeer.addStatsRow(stats_row);
  if (gpu_thrown == null) {
    return m_Partial;
  }
 else {
    if (gpu_thrown instanceof NullPointerException) {
      NullPointerException null_ex=(NullPointerException)gpu_thrown;
      throw null_ex;
    }
 else     if (gpu_thrown instanceof OutOfMemoryError) {
      OutOfMemoryError no_mem=(OutOfMemoryError)gpu_thrown;
      throw no_mem;
    }
 else     if (gpu_thrown instanceof Error) {
      Error error=(Error)gpu_thrown;
      throw error;
    }
 else     if (gpu_thrown instanceof RuntimeException) {
      RuntimeException runtime_ex=(RuntimeException)gpu_thrown;
      throw runtime_ex;
    }
 else     if (gpu_thrown instanceof ArrayIndexOutOfBoundsException) {
      ArrayIndexOutOfBoundsException array_except=(ArrayIndexOutOfBoundsException)gpu_thrown;
      throw array_except;
    }
 else {
      throw new RuntimeException("unknown exception type.");
    }
  }
}
