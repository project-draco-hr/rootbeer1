{
  m_BlockShaper.run(m_JobsWritten.size(),m_NumMultiProcessors);
  m_GridShape=m_BlockShaper.gridShape();
  m_BlockShape=m_BlockShaper.blockShape();
  m_NumBlocksRun=m_GridShape * m_BlockShape;
  if (m_NumBlocksRun > m_JobsWritten.size()) {
    m_NumBlocksRun=m_JobsWritten.size();
  }
}
