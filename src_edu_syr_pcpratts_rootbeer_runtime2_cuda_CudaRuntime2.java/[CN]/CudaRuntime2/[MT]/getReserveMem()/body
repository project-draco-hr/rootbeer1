{
  File file=new File(RootbeerPaths.v().getConfigFile());
  if (file.exists() == false) {
    int reserve_mem=findReserveMem(m_BlockShaper.getMaxBlocksPerProc(),m_BlockShaper.getMaxThreadsPerBlock());
    Properties props=new Properties();
    props.setProperty("reserve_mem",Integer.toString(reserve_mem));
    try {
      OutputStream fout=new FileOutputStream(file);
      OutputStreamWriter writer=new OutputStreamWriter(fout);
      props.store(writer,"");
      writer.flush();
      fout.flush();
      writer.close();
      fout.close();
      return reserve_mem;
    }
 catch (    Exception ex) {
      ex.printStackTrace();
      return reserve_mem;
    }
  }
 else {
    try {
      InputStream fin=new FileInputStream(file);
      BufferedReader reader=new BufferedReader(new InputStreamReader(fin));
      Properties props=new Properties();
      props.load(reader);
      return Integer.parseInt(props.getProperty("reserve_mem"));
    }
 catch (    Exception ex) {
      ex.printStackTrace();
      return findReserveMem(m_BlockShaper.getMaxBlocksPerProc(),m_BlockShaper.getMaxThreadsPerBlock());
    }
  }
}
