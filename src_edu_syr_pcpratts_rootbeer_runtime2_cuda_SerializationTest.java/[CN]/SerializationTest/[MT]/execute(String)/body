{
  RootbeerCompiler compiler=new RootbeerCompiler();
  String dest_jar="output.jar";
  compiler.compile(jar,dest_jar);
  JarClassLoader loader_factory=new JarClassLoader(dest_jar);
  ClassLoader cls_loader=loader_factory.getLoader();
  Thread.currentThread().setContextClassLoader(cls_loader);
  CudaRuntime2 runtime=CudaRuntime2.v();
  LoadTestSerialization loader=new LoadTestSerialization();
  List<TestSerialization> creators=loader.load(cls_loader,"rootbeertest.serialization.Main");
  for (  TestSerialization creator : creators) {
    List<Kernel> items=creator.create();
    runtime.writeBlocks(items.iterator());
    runtime.readBlocks();
  }
}
